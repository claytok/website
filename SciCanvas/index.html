<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SciCanvas - Scientific Layout Editor</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Top toolbar -->
    <div class="toolbar">
        <div class="logo">
            <svg viewBox="0 0 24 24">
                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14l-5-5 1.41-1.41L11 13.17l7.59-7.59L20 7l-8 8z"/>
            </svg>
            SciCanvas
        </div>
        
        <div class="toolbar-section">
            <div class="menu-item" data-menu="file">
                File
                <div class="dropdown-menu">
                    <div class="dropdown-item" data-action="new">New Project</div>
                    <div class="dropdown-item" data-action="open">Open...</div>
                    <div class="dropdown-item" data-action="save">Save</div>
                    <div class="dropdown-item" data-action="saveas">Save As...</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" data-action="export-png">Export as PNG</div>
                    <div class="dropdown-item" data-action="export-pdf">Export as PDF</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" data-action="print">Print...</div>
                </div>
            </div>
            <div class="menu-item" data-menu="edit">
                Edit
                <div class="dropdown-menu">
                    <div class="dropdown-item" data-action="undo">Undo</div>
                    <div class="dropdown-item" data-action="redo">Redo</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" data-action="cut">Cut</div>
                    <div class="dropdown-item" data-action="copy">Copy</div>
                    <div class="dropdown-item" data-action="paste">Paste</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" data-action="delete">Delete</div>
                    <div class="dropdown-item" data-action="select-all">Select All</div>
                </div>
            </div>
            <div class="menu-item" data-menu="view">
                View
                <div class="dropdown-menu">
                    <div class="dropdown-item" data-action="zoom-in">Zoom In</div>
                    <div class="dropdown-item" data-action="zoom-out">Zoom Out</div>
                    <div class="dropdown-item" data-action="fit-screen">Fit to Screen</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" data-action="show-grid">Toggle Grid</div>
                    <div class="dropdown-item" data-action="snap-grid">Snap to Grid</div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" data-action="fullscreen">Full Screen</div>
                </div>
            </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="toolbar-section">
            <select class="font-select" id="font-select">
                <option>Arial</option>
                <option>Times New Roman</option>
                <option>Courier New</option>
                <option>Georgia</option>
            </select>
            
            <select class="font-size" id="font-size">
                <option>10</option>
                <option>12</option>
                <option>14</option>
                <option>16</option>
                <option>18</option>
            </select>
            
            <div class="formatting-buttons">
                <button class="format-btn" title="Bold" id="bold-btn">
                    <svg viewBox="0 0 24 24">
                        <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/>
                    </svg>
                </button>
                <button class="format-btn" title="Italic" id="italic-btn">
                    <svg viewBox="0 0 24 24">
                        <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/>
                    </svg>
                </button>
                <button class="format-btn" title="Underline" id="underline-btn">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
                    </svg>
                </button>
            </div>
            
            <div class="divider"></div>
            
            <!-- Color picker -->
            <div class="color-picker-container">
                <input type="color" id="color-picker" value="#000000">
                <label for="color-picker">Color</label>
            </div>
            
            <div class="divider"></div>
            
            <!-- Delete button -->
            <button class="toolbar-btn" id="delete-btn" title="Delete selected element">
                <svg viewBox="0 0 24 24">
                    <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                </svg>
                Delete
            </button>
        </div>
        
        <div class="templates-section">
            <button class="template-btn" data-template="export">Export</button>
        </div>
    </div>
    
    <!-- Main content area -->
    <div class="main-content">
        <!-- Left sidebar -->
        <div class="sidebar">
            <button class="sidebar-btn active" data-tool="dna-helix">
                <svg viewBox="0 0 64 64">
                    <!-- Main helical strands -->
                    <path d="M 20,4 C 25,8 39,8 44,12 C 39,16 25,16 20,20 C 25,24 39,24 44,28 C 39,32 25,32 20,36 C 25,40 39,40 44,44 C 39,48 25,48 20,52 C 25,56 39,56 44,60" fill="none" stroke="#1B2A41" stroke-width="2" />
                    <path d="M 44,4 C 39,8 25,8 20,12 C 25,16 39,16 44,20 C 39,24 25,24 20,28 C 25,32 39,32 44,36 C 39,40 25,40 20,44 C 25,48 39,48 44,52 C 39,56 25,56 20,60" fill="none" stroke="#FF6B6B" stroke-width="2" />
                    
                    <!-- Base pairs connecting the strands -->
                    <line stroke="#4ECDC4" stroke-width="1.5" x1="20" y1="4" x2="44" y2="4" />
                    <line stroke="#4ECDC4" stroke-width="1.5" x1="20" y1="20" x2="44" y2="20" />
                    <line stroke="#4ECDC4" stroke-width="1.5" x1="20" y1="36" x2="44" y2="36" />
                    <line stroke="#4ECDC4" stroke-width="1.5" x1="20" y1="52" x2="44" y2="52" />
                    
                    <!-- Base pairs - adjusted to be visible -->
                    <line stroke="#4ECDC4" stroke-width="1.5" x1="26" y1="12" x2="38" y2="12" />
                    <line stroke="#4ECDC4" stroke-width="1.5" x1="26" y1="28" x2="38" y2="28" />
                    <line stroke="#4ECDC4" stroke-width="1.5" x1="26" y1="44" x2="38" y2="44" />
                </svg>
            </button>
            <button class="sidebar-btn" data-tool="nanoparticle">
                <svg viewBox="0 0 64 64">
                    <!-- Main nanoparticle sphere with flat color -->
                    <circle cx="32" cy="32" r="20" fill="#4ECDC4" stroke="#1B2A41" stroke-width="2" />
                    
                    <!-- Surface functionalization molecules - simplified -->
                    <line x1="32" y1="12" x2="32" y2="6" stroke="#FF6B6B" stroke-width="2" />
                    <circle cx="32" cy="4" r="2" fill="#FF6B6B" />
                    
                    <line x1="50" y1="25" x2="54" y2="22" stroke="#FF6B6B" stroke-width="2" />
                    <circle cx="56" cy="20" r="2" fill="#FF6B6B" />
                    
                    <line x1="16" y1="40" x2="10" y2="44" stroke="#FF6B6B" stroke-width="2" />
                    <circle cx="8" cy="46" r="2" fill="#FF6B6B" />
                    
                    <!-- Core structure -->
                    <circle cx="32" cy="32" r="10" fill="none" stroke="#1B2A41" stroke-width="2" stroke-dasharray="3,3" />
                </svg>
            </button>
            <button class="sidebar-btn" data-tool="pipette">
                <svg viewBox="0 0 64 64">
                    <!-- Pipette body -->
                    <rect fill="#E0E0E0" height="32" rx="2" width="12" x="26" y="8" />
                    
                    <!-- Pipette upper part -->
                    <rect fill="#1B2A41" height="10" rx="2" width="16" x="24" y="4" />
                    
                    <!-- Plunger button -->
                    <rect fill="#FF6B6B" height="3" rx="1" width="10" x="27" y="1" />
                    
                    <!-- Tip connector -->
                    <path d="M 30,40 L 26,44 L 38,44 L 34,40 Z" fill="#666666" />
                    
                    <!-- Pipette tip -->
                    <path d="M 28,44 L 26,48 L 26,56 C 26,58 27,58 32,58 C 37,58 38,58 38,56 L 38,48 L 36,44 Z" fill="#E0E0E0" />
                    
                    <!-- Liquid in tip -->
                    <path d="M 28,54 L 28,56 C 28,57 29,57 32,57 C 35,57 36,57 36,56 L 36,54 Z" fill="#4ECDC4" />
                </svg>
            </button>
            <button class="sidebar-btn" data-tool="sop-checklist">
                <svg viewBox="0 0 64 64">
                    <rect fill="#E0E0E0" height="44" rx="4" width="32" x="16" y="10" />
                    <rect fill="#1B2A41" height="6" rx="2" width="16" x="24" y="10" />
                    <line stroke="#1B2A41" stroke-width="2" x1="22" x2="42" y1="20" y2="20" />
                    <circle cx="20" cy="20" fill="#4ECDC4" r="2" />
                    <line stroke="#1B2A41" stroke-width="2" x1="22" x2="42" y1="30" y2="30" />
                    <circle cx="20" cy="30" fill="#4ECDC4" r="2" />
                    <line stroke="#1B2A41" stroke-width="2" x1="22" x2="42" y1="40" y2="40" />
                    <circle cx="20" cy="40" fill="#4ECDC4" r="2" />
                </svg>
            </button>
            <button class="sidebar-btn" data-tool="cell">
                <svg viewBox="0 0 64 64">
                    <!-- Cell membrane - simplified with solid fill -->
                    <circle cx="32" cy="32" r="28" fill="#B3E5FC" stroke="#1B2A41" stroke-width="1.5" />
                    
                    <!-- Cell nucleus - simplified with solid fill -->
                    <circle cx="32" cy="32" r="12" fill="#FFF176" stroke="#1B2A41" stroke-width="1.2" />
                    
                    <!-- Mitochondria - simplified -->
                    <ellipse cx="46" cy="20" rx="5" ry="3" fill="#4ECDC4" stroke="#1B2A41" stroke-width="1" />
                    
                    <!-- Lysosomes - simplified -->
                    <circle cx="46" cy="46" r="3" fill="#FF5252" stroke="#1B2A41" stroke-width="1" />
                    <circle cx="18" cy="36" r="2.5" fill="#FF5252" stroke="#1B2A41" stroke-width="1" />
                    
                    <!-- Ribosomes - simplified -->
                    <circle cx="24" cy="28" r="1.5" fill="#673AB7" />
                    <circle cx="41" cy="32" r="1.5" fill="#673AB7" />
                    <circle cx="26" cy="41" r="1.5" fill="#673AB7" />
                </svg>
            </button>
            <button class="sidebar-btn" data-tool="lfa">
                <svg viewBox="0 0 64 64">
                    <rect fill="#E0E0E0" height="12" rx="3" width="44" x="10" y="26" />
                    <rect fill="#FF6B6B" height="8" width="2" x="20" y="28" />
                    <rect fill="#4ECDC4" height="8" width="2" x="32" y="28" />
                    <line stroke="#1B2A41" stroke-width="2" x1="12" x2="48" y1="20" y2="20" />
                    <polygon fill="#1B2A41" points="48,18 54,20 48,22" />
                </svg>
            </button>
            
            <!-- Divider for drawing tools -->
            <div class="sidebar-divider"></div>
            
            <!-- Drawing tools -->
            <button class="sidebar-btn" data-tool="line">
                <svg viewBox="0 0 24 24">
                    <path d="M4,20L20,4" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
            </button>
            <button class="sidebar-btn" data-tool="arrow">
                <svg viewBox="0 0 24 24">
                    <defs>
                        <marker id="arrowhead-sidebar" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="currentColor"/>
                        </marker>
                    </defs>
                    <line x1="4" y1="20" x2="17" y2="7" stroke="currentColor" stroke-width="2" marker-end="url(#arrowhead-sidebar)"/>
                </svg>
            </button>
            <button class="sidebar-btn" data-tool="rectangle">
                <svg viewBox="0 0 24 24">
                    <rect x="4" y="4" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
            </button>
            <button class="sidebar-btn" data-tool="circle">
                <svg viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
            </button>
        </div>
        
        <!-- Canvas area -->
        <div class="canvas-container">
            <div class="canvas" id="editor-canvas">
                <!-- Canvas content will be added here -->
            </div>
        </div>
    </div>

    <!-- Status bar -->
    <div class="status-bar" id="status-bar">
        Ready | Canvas: 800 Ã— 600 px | Selected: None
    </div>

    <!-- Toast notification -->
    <div class="toast" id="toast"></div>

    <!-- Include html2canvas library for PNG export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- Add protection script -->
    <script src="protection.js"></script>
    <script src="script.js"></script>
</body>
</html>
